<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LMS: Environmental Health and Sanitation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4e73df;
            --secondary: #1cc88a;
            --success: #1cc88a;
            --info: #36b9cc;
            --warning: #f6c23e;
            --danger: #e74a3b;
            --light: #f8f9fc;
            --dark: #5a5c69;
            --white: #ffffff;
            --gray: #858796;
        }
        
        body {
            font-family: 'Nunito', 'Segoe UI', system-ui, -apple-system, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--light);
            color: #4a4a4a;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, #2e7d32, #1b5e20);
            color: var(--white);
            padding: 25px 0;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: relative;
        }
        
        header h1 {
            margin: 0;
            font-size: 2.2rem;
            font-weight: 700;
        }
        
        .progress-container {
            margin: 30px 0;
            background: var(--white);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            border: 1px solid #e3e6f0;
        }
        
        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.95rem;
            color: var(--dark);
            font-weight: 600;
        }
        
        .progress-bar {
            width: 100%;
            background: #eaecf4;
            height: 15px;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), #17a673);
            width: 0%;
            transition: width 0.6s ease;
        }
        
        .page {
            display: none;
            background: var(--white);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin-bottom: 30px;
            animation: fadeIn 0.5s ease;
            border: 1px solid #e3e6f0;
            position: relative;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .page.active {
            display: block;
        }
        
        h2 {
            color: #2e7d32;
            border-bottom: 3px solid #81c784;
            padding-bottom: 10px;
            margin-bottom: 25px;
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        h3 {
            color: var(--dark);
            margin-top: 30px;
            font-size: 1.4rem;
            font-weight: 600;
        }
        
        .toggle-btn {
            background: #2e7d32;
            color: var(--white);
            border: none;
            padding: 16px 25px;
            width: 100%;
            text-align: left;
            cursor: pointer;
            border-radius: 8px;
            font-size: 1.05rem;
            margin: 20px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        
        .toggle-btn:hover {
            background: #1b5e20;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(46, 125, 50, 0.25);
        }
        
        .toggle-btn i {
            transition: transform 0.3s ease;
        }
        
        .toggle-btn.active i {
            transform: rotate(180deg);
        }
        
        .content {
            display: none;
            margin: 25px 0;
            padding: 25px;
            background: var(--light);
            border-radius: 10px;
            border-left: 4px solid #2e7d32;
        }
        
        ul {
            list-style-type: none;
            padding-left: 0;
        }
        
        ul li {
            padding: 10px 0;
            position: relative;
            padding-left: 30px;
            line-height: 1.7;
        }
        
        ul li:before {
            content: "â€¢";
            color: #2e7d32;
            font-weight: bold;
            font-size: 1.5rem;
            position: absolute;
            left: 5px;
            top: 2px;
        }
        
        img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 1px solid #e3e6f0;
        }
        
        iframe {
            width: 100%;
            height: 450px;
            border: none;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .note, .closing, .glossary, .quote, .encouragement,
        .objectives, .quiz, .checklist, .discussion, .scenario, .resources,
        .case-study, .data-visualization {
            margin: 25px 0;
            padding: 25px;
            border-radius: 10px;
            position: relative;
        }
        
        .note {
            background: rgba(46, 125, 50, 0.1);
            border-left: 4px solid #2e7d32;
        }
        
        .closing {
            background: rgba(46, 125, 50, 0.1);
            border-left: 4px solid #2e7d32;
        }
        
        .glossary {
            background: rgba(246, 194, 62, 0.1);
            border-left: 4px solid var(--warning);
        }
        
        .quote {
            background: rgba(133, 135, 150, 0.1);
            font-style: italic;
            border-left: 4px solid var(--gray);
        }
        
        .encouragement {
            background: rgba(28, 200, 138, 0.1);
            border-left: 4px solid var(--success);
        }
        
        .objectives {
            background: rgba(54, 185, 204, 0.1);
            border-left: 4px solid var(--info);
        }
        
        .quiz {
            background: rgba(231, 74, 59, 0.1);
            border-left: 4px solid var(--danger);
        }
        
        .checklist {
            background: rgba(246, 194, 62, 0.1);
            border-left: 4px solid var(--warning);
        }
        
        .discussion, .scenario {
            background: rgba(111, 66, 193, 0.1);
            border-left: 4px solid #6f42c1;
        }
        
        .resources {
            background: rgba(133, 135, 150, 0.1);
            border-left: 4px solid var(--gray);
        }
        
        .case-study {
            background: rgba(46, 125, 50, 0.1);
            border-left: 4px solid #2e7d32;
        }
        
        .data-visualization {
            background: rgba(54, 185, 204, 0.1);
            border-left: 4px solid var(--info);
        }
        
        .quiz label {
            display: block;
            margin: 15px 0;
            padding: 15px;
            background: rgba(255,255,255,0.8);
            border-radius: 8px;
            transition: all 0.2s ease;
            cursor: pointer;
            border: 1px solid #e3e6f0;
        }
        
        .quiz label:hover {
            background: var(--white);
            transform: translateX(5px);
            border-color: #2e7d32;
        }
        
        .quiz input[type="radio"] {
            margin-right: 12px;
            transform: scale(1.2);
        }
        
        .quiz button {
            background: #2e7d32;
            color: var(--white);
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            font-weight: 600;
            margin-top: 10px;
        }
        
        .quiz button:hover {
            background: #1b5e20;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(46, 125, 50, 0.25);
        }
        
        .quiz-result {
            margin-top: 20px;
            font-weight: 600;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }
        
        .quiz-result.correct {
            background: rgba(46, 125, 50, 0.2);
            color: #2e7d32;
            display: block;
        }
        
        .quiz-result.incorrect {
            background: rgba(231, 74, 59, 0.2);
            color: var(--danger);
            display: block;
        }
        
        .quiz-explanation {
            margin-top: 20px;
            font-style: italic;
            color: var(--dark);
            padding: 15px;
            background: rgba(255,255,255,0.8);
            border-radius: 8px;
            border: 1px solid #e3e6f0;
            display: none;
        }
        
        .checklist-item {
            display: flex;
            align-items: center;
            margin: 12px 0;
            padding: 15px;
            background: rgba(255,255,255,0.8);
            border-radius: 8px;
            border: 1px solid #e3e6f0;
            transition: all 0.2s ease;
        }
        
        .checklist-item:hover {
            transform: translateX(5px);
            border-color: var(--warning);
        }
        
        .checklist input[type="checkbox"] {
            margin-right: 15px;
            transform: scale(1.4);
        }
        
        .discussion textarea, .scenario textarea {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e3e6f0;
            font-family: inherit;
            resize: vertical;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        
        .discussion textarea:focus, .scenario textarea:focus {
            outline: none;
            border-color: #2e7d32;
            box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.25);
        }
        
        .resources a {
            color: #2e7d32;
            text-decoration: none;
            font-weight: 600;
            display: block;
            margin: 12px 0;
            padding: 12px;
            border-radius: 8px;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.8);
            border: 1px solid #e3e6f0;
        }
        
        .resources a:hover {
            background: rgba(46, 125, 50, 0.1);
            text-decoration: none;
            transform: translateX(5px);
            border-color: #2e7d32;
        }
        
        .resources a i {
            margin-right: 10px;
            color: var(--secondary);
        }
        
        .pagination {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 40px;
            gap: 20px;
        }
        
        .pagination button {
            background: #2e7d32;
            color: var(--white);
            border: none;
            padding: 14px 28px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        
        .pagination button:disabled {
            background: var(--gray);
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .pagination button:hover:not(:disabled) {
            background: #1b5e20;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(46, 125, 50, 0.25);
        }
        
        .pagination span {
            font-size: 1.1rem;
            color: var(--dark);
            font-weight: 600;
            flex-grow: 1;
            text-align: center;
        }
        
        .badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 700;
            margin-left: 10px;
        }
        
        .badge-primary {
            background: rgba(46, 125, 50, 0.1);
            color: #2e7d32;
        }
        
        .badge-success {
            background: rgba(28, 200, 138, 0.1);
            color: var(--success);
        }
        
        .badge-warning {
            background: rgba(246, 194, 62, 0.1);
            color: var(--warning);
        }
        
        .badge-danger {
            background: rgba(231, 74, 59, 0.1);
            color: var(--danger);
        }
        
        .floating-nav {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 100;
        }
        
        .floating-nav button {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: #2e7d32;
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            font-size: 1.2rem;
        }
        
        .floating-nav button:hover {
            background: #1b5e20;
            transform: translateY(-3px) scale(1.1);
        }
        
        .floating-nav button:active {
            transform: translateY(1px);
        }
        
        .completion-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background: var(--success);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            font-size: 1.2rem;
        }
        
        .bookmark-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            font-size: 1.4rem;
            transition: all 0.3s ease;
        }
        
        .bookmark-btn:hover {
            color: var(--warning);
            transform: scale(1.2);
        }
        
        .bookmark-btn.active {
            color: var(--warning);
        }
        
        .dark-mode-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.2);
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.95rem;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .data-table th, .data-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e3e6f0;
        }
        
        .data-table th {
            background-color: #2e7d32;
            color: white;
            font-weight: 600;
        }
        
        .data-table tr:nth-child(even) {
            background-color: #f9fafd;
        }
        
        .data-table tr:hover {
            background-color: #f1f3f9;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            header h1 {
                font-size: 1.8rem;
                padding: 0 20px;
            }
            
            .page {
                padding: 20px;
            }
            
            h2 {
                font-size: 1.6rem;
            }
            
            h3 {
                font-size: 1.3rem;
            }
            
            iframe {
                height: 300px;
            }
            
            .pagination {
                flex-direction: column;
            }
            
            .pagination button {
                width: 100%;
                justify-content: center;
            }
            
            .floating-nav {
                bottom: 20px;
                right: 20px;
            }
            
            .floating-nav button {
                width: 50px;
                height: 50px;
                font-size: 1.1rem;
            }
        }
        
        /* Accessibility improvements */
        a:focus, button:focus, input:focus, textarea:focus {
            outline: 3px solid rgba(46, 125, 50, 0.5);
            outline-offset: 2px;
        }
        
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0,0,0,0);
            white-space: nowrap;
            border-width: 0;
        }
        
        /* Dark mode styles */
        body.dark-mode {
            background-color: #121212;
            color: #e0e0e0;
        }
        
        body.dark-mode .page,
        body.dark-mode .progress-container,
        body.dark-mode .quiz label,
        body.dark-mode .checklist-item,
        body.dark-mode .resources a,
        body.dark-mode .data-table tr {
            background-color: #1e1e1e;
            color: #e0e0e0;
            border-color: #333;
        }
        
        body.dark-mode .content,
        body.dark-mode .quiz-explanation {
            background-color: #2d2d2d;
            color: #e0e0e0;
        }
        
        body.dark-mode h2, 
        body.dark-mode h3 {
            color: #81c784;
        }
        
        body.dark-mode .progress-bar {
            background-color: #333;
        }
        
        body.dark-mode .discussion textarea,
        body.dark-mode .scenario textarea {
            background-color: #2d2d2d;
            color: #e0e0e0;
            border-color: #444;
        }
        
        body.dark-mode .data-table th {
            background-color: #1b5e20;
        }
        
        body.dark-mode .data-table tr:nth-child(even) {
            background-color: #252525;
        }
        
        body.dark-mode .data-table tr:hover {
            background-color: #333;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1>LMS: Environmental Health and Sanitation</h1>
        <button class="dark-mode-toggle" aria-label="Toggle dark mode" onclick="toggleDarkMode()">
            <i class="fas fa-moon"></i>
        </button>
    </header>
    <div class="container">
        <div class="progress-container">
            <div class="progress-info">
                <span>Course Progress</span>
                <span id="progressPercentage">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
        </div>

        <!-- Page 1: Introduction to Environmental Health -->
        <div class="page active" id="page1">
            <button class="bookmark-btn" aria-label="Bookmark this page" onclick="toggleBookmark(1)">
                <i class="far fa-bookmark"></i>
            </button>
            <h2>Introduction to Environmental Health <span class="badge badge-primary">Fundamental</span></h2>
            <div class="objectives">
                <h3><i class="fas fa-bullseye"></i> Learning Objectives</h3>
                <ul>
                    <li>Define environmental health and its scope</li>
                    <li>Understand the relationship between environment and human health</li>
                    <li>Identify key environmental health hazards</li>
                </ul>
            </div>
            <p>Environmental health examines how our surroundings affect human health and wellbeing, focusing on prevention of environmental hazards and promotion of healthy environments.</p>
            <button class="toggle-btn" onclick="toggleContent('content1')">
                Explore Detailed Content <i class="fas fa-chevron-down"></i>
            </button>
            <div id="content1" class="content">
                <img src="https://images.unsplash.com/photo-1500382017468-9049fed747ef?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80" alt="Natural environment">
                <h3><i class="fas fa-search-plus"></i> Detailed Exploration</h3>
                <p>Environmental health encompasses all aspects of the natural and built environment that affect human health:</p>
                <ul>
                    <li><strong>Definition:</strong> The branch of public health concerned with monitoring and mitigating environmental factors that can affect health (WHO).</li>
                    <li><strong>Key Areas:</strong> Air quality, water quality, sanitation, hazardous substances, climate change, built environments.</li>
                    <li><strong>Global Burden:</strong> 24% of global deaths are linked to environmental factors (WHO).</li>
                    <li><strong>Historical Milestones:</strong> London smog (1952), Minamata disease (1956), Love Canal (1978), Flint water crisis (2014).</li>
                </ul>
                
                <div class="data-visualization">
                    <h4><i class="fas fa-chart-bar"></i> Global Environmental Health Statistics</h4>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Risk Factor</th>
                                <th>Annual Deaths</th>
                                <th>Primary Health Impacts</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Air Pollution</td>
                                <td>7 million</td>
                                <td>Respiratory diseases, cardiovascular disease</td>
                            </tr>
                            <tr>
                                <td>Water Contamination</td>
                                <td>1.4 million</td>
                                <td>Diarrheal diseases, parasitic infections</td>
                            </tr>
                            <tr>
                                <td>Chemical Exposure</td>
                                <td>1.6 million</td>
                                <td>Cancers, neurological disorders</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h3><i class="fas fa-play-circle"></i> Watch Video</h3>
                <iframe src="https://www.youtube.com/embed/_6xlNyWPpB8" title="Introduction to Environmental Health" allowfullscreen></iframe>
                
                <div class="note">
                    <h4><i class="fas fa-lightbulb"></i> Key Insight</h4>
                    <p>Environmental health professionals work at the intersection of human health and ecological systems to create sustainable, healthy communities.</p>
                </div>
            </div>
            
            <div class="quiz">
                <h3><i class="fas fa-question-circle"></i> Knowledge Check</h3>
                <fieldset>
                    <legend>1. What percentage of global deaths are linked to environmental factors?</legend>
                    <label><input type="radio" name="q1a" value="a"> a) 10%</label>
                    <label><input type="radio" name="q1a" value="b"> b) 24%</label>
                </fieldset>
                
                <fieldset>
                    <legend>2. Which is NOT a key area of environmental health?</legend>
                    <label><input type="radio" name="q1b" value="a"> a) Air quality</label>
                    <label><input type="radio" name="q1b" value="b"> b) Genetic disorders</label>
                </fieldset>
                
                <button onclick="checkQuiz(1, ['b', 'b'])">
                    <i class="fas fa-paper-plane"></i> Submit Answers
                </button>
                <div id="result1" class="quiz-result"></div>
                <div id="explanation1" class="quiz-explanation"></div>
            </div>
            
            <div class="checklist">
                <h3><i class="fas fa-check-square"></i> Key Concepts Checklist</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="check1-1">
                    <label for="check1-1">I can define environmental health</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="check1-2">
                    <label for="check1-2">I understand the scope of environmental health</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="check1-3">
                    <label for="check1-3">I can identify major environmental health hazards</label>
                </div>
            </div>
            
            <div class="scenario">
                <h3><i class="fas fa-tasks"></i> Practical Scenario</h3>
                <p>A community near an industrial area reports increased respiratory illnesses. What environmental factors would you investigate first?</p>
                <textarea placeholder="Describe your investigation approach..."></textarea>
            </div>
            
            <div class="resources">
                <h3><i class="fas fa-book-open"></i> Further Reading</h3>
                <a href="https://www.who.int/publications/i/item/9789241565196" target="_blank">
                    <i class="fas fa-file-pdf"></i> WHO Environmental Health (PDF)
                </a>
                <a href="https://www.cdc.gov/nceh/default.htm" target="_blank">
                    <i class="fas fa-link"></i> CDC Environmental Health
                </a>
                <a href="https://www.epa.gov/environmental-topics" target="_blank">
                    <i class="fas fa-link"></i> EPA Environmental Topics
                </a>
            </div>
            
            <div class="closing">
                <h3><i class="fas fa-flag-checkered"></i> Closing Remark</h3>
                <p>Understanding environmental health fundamentals prepares you to address complex health challenges at the environment-human interface.</p>
            </div>
        </div>

        <!-- Page 2: Water Sanitation and Hygiene (WASH) -->
        <div class="page" id="page2">
            <button class="bookmark-btn" aria-label="Bookmark this page" onclick="toggleBookmark(2)">
                <i class="far fa-bookmark"></i>
            </button>
            <h2>Water Sanitation and Hygiene (WASH) <span class="badge badge-primary">Core Concept</span></h2>
            <div class="objectives">
                <h3><i class="fas fa-bullseye"></i> Learning Objectives</h3>
                <ul>
                    <li>Understand the importance of clean water and sanitation</li>
                    <li>Identify waterborne diseases and prevention methods</li>
                    <li>Apply WASH principles in community settings</li>
                </ul>
            </div>
            <p>Access to clean water, proper sanitation, and good hygiene practices are fundamental to preventing disease and maintaining public health.</p>
            <button class="toggle-btn" onclick="toggleContent('content2')">
                Explore Detailed Content <i class="fas fa-chevron-down"></i>
            </button>
            <div id="content2" class="content">
                <img src="https://images.unsplash.com/photo-1606761568499-6d2451b23c66?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80" alt="Clean water access">
                <h3><i class="fas fa-search-plus"></i> Detailed Exploration</h3>
                <p>WASH interventions are among the most cost-effective public health measures:</p>
                <ul>
                    <li><strong>Global Status:</strong> 2 billion lack safe drinking water, 3.6 billion lack safe sanitation (WHO/UNICEF 2022)</li>
                    <li><strong>Health Impacts:</strong> Reduces diarrheal diseases by 45%, improves nutrition, prevents neglected tropical diseases</li>
                    <li><strong>Key Components:</strong>
                        <ul>
                            <li>Water: Safe drinking water supply</li>
                            <li>Sanitation: Proper waste disposal</li>
                            <li>Hygiene: Handwashing and food hygiene</li>
                        </ul>
                    </li>
                </ul>
                
                <div class="case-study">
                    <h4><i class="fas fa-clipboard-list"></i> Cholera Prevention in Haiti</h4>
                    <p>After the 2010 earthquake, WASH interventions prevented cholera spread:</p>
                    <ul>
                        <li><strong>Challenge:</strong> Damaged infrastructure led to water contamination</li>
                        <li><strong>Interventions:</strong> Water purification, sanitation facilities, hygiene education</li>
                        <li><strong>Results:</strong> 97% reduction in cholera cases in targeted areas</li>
                    </ul>
                </div>
                
                <h3><i class="fas fa-play-circle"></i> Watch Video</h3>
                <iframe src="https://www.youtube.com/embed/9Q8PWCkHQso" title="WASH Principles" allowfullscreen></iframe>
                
                <div class="note">
                    <h4><i class="fas fa-lightbulb"></i> Key Insight</h4>
                    <p>Every $1 invested in water and sanitation returns $4.30 in reduced healthcare costs and increased productivity (WHO).</p>
                </div>
            </div>
            
            <div class="quiz">
                <h3><i class="fas fa-question-circle"></i> Knowledge Check</h3>
                <fieldset>
                    <legend>1. What percentage can WASH reduce diarrheal diseases?</legend>
                    <label><input type="radio" name="q2a" value="a"> a) 25%</label>
                    <label><input type="radio" name="q2a" value="b"> b) 45%</label>
                </fieldset>
                
                <fieldset>
                    <legend>2. Which is NOT a component of WASH?</legend>
                    <label><input type="radio" name="q2b" value="a"> a) Water purification</label>
                    <label><input type="radio" name="q2b" value="b"> b) Air conditioning</label>
                </fieldset>
                
                <button onclick="checkQuiz(2, ['b', 'b'])">
                    <i class="fas fa-paper-plane"></i> Submit Answers
                </button>
                <div id="result2" class="quiz-result"></div>
                <div id="explanation2" class="quiz-explanation"></div>
            </div>
            
            <div class="checklist">
                <h3><i class="fas fa-check-square"></i> Key Concepts Checklist</h3>
                <div class="checklist-item">
                    <input type="checkbox" id="check2-1">
                    <label for="check2-1">I understand the importance of WASH</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="check2-2">
                    <label for="check2-2">I can list waterborne diseases</label>
                </div>
                <div class="checklist-item">
                    <input type="checkbox" id="check2-3">
                    <label for="check2-3">I can describe WASH interventions</label>
                </div>
            </div>
            
            <div class="scenario">
                <h3><i class="fas fa-tasks"></i> Practical Scenario</h3>
                <p>A rural community lacks clean water access. Design a WASH program with at least three components.</p>
                <textarea placeholder="Outline your WASH program..."></textarea>
            </div>
            
            <div class="resources">
                <h3><i class="fas fa-book-open"></i> Further Reading</h3>
                <a href="https://www.who.int/publications/i/item/9789241514705" target="_blank">
                    <i class="fas fa-file-pdf"></i> WHO WASH Guidelines (PDF)
                </a>
                <a href="https://www.cdc.gov/healthywater/global/wash.html" target="_blank">
                    <i class="fas fa-link"></i> CDC Global WASH
                </a>
                <a href="https://washdata.org/" target="_blank">
                    <i class="fas fa-link"></i> WHO/UNICEF JMP for WASH
                </a>
            </div>
        </div>

        <!-- Page 3: Solid Waste Management -->
        <div class="page" id="page3">
            <button class="bookmark-btn" aria-label="Bookmark this page" onclick="toggleBookmark(3)">
                <i class="far fa-bookmark"></i>
            </button>
            <h2>Solid Waste Management <span class="badge badge-warning">Applied Skills</span></h2>
            <div class="objectives">
                <h3><i class="fas fa-bullseye"></i> Learning Objectives</h3>
                <ul>
                    <li>Understand waste management hierarchy</li>
                    <li>Identify health impacts of improper waste disposal</li>
                    <li>Apply sustainable waste management practices</li>
                </ul>
            </div>
            <p>Effective waste management protects public health while minimizing environmental impact through reduction, reuse, recycling, and proper disposal.</p>
            <button class="toggle-btn" onclick="toggleContent('content3')">
                Explore Detailed Content <i class="fas fa-chevron-down"></i>
            </button>
            <div id="content3" class="content">
                <img src="https://images.unsplash.com/photo-1584473457406-6240486418e9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80" alt="Waste management facility">
                <h3><i class="fas fa-search-plus"></i> Detailed Exploration</h3>
                
                <h4>Waste Management Hierarchy:</h4>
                <ol>
                    <li><strong>Prevention:</strong> Reduce waste generation</li>
                    <li><strong>Minimization:</strong> Reduce waste quantity/toxicity</li>
                    <li><strong>Reuse:</strong> Use items multiple times</li>
                    <li><strong>Recycling:</strong> Convert waste into new materials</li>
                    <li><strong>Energy Recovery:</strong> Waste-to-energy</li>
                    <li><strong>Disposal:</strong> Landfilling (last resort)</li>
                </ol>
                
                <div class="data-visualization">
                    <h4><i class="fas fa-chart-pie"></i> Global Waste Composition</h4>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Waste Type</th>
                                <th>Percentage</th>
                                <th>Health Risks</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Organic</td>
                                <td>44%</td>
                                <td>Vector breeding, methane emissions</td>
                            </tr>
                            <tr>
                                <td>Paper/Cardboard</td>
                                <td>17%</td>
                                <td>Fire hazard, decomposition gases</td>
                            </tr>
                            <tr>
                                <td>Plastic</td>
                                <td>12%</td>
                                <td>Chemical leaching, microplastics</td>
                            </tr>
                            <tr>
                                <td>Hazardous</td>
                                <td>3%</td>
                                <td>Toxic exposure, contamination</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="case-study">
                    <h4><i class="fas fa-clipboard-list"></i> San Francisco's Zero Waste Program</h4>
                    <p>San Francisco achieved 80% diversion rate through:</p>
                    <ul>
                        <li><strong>Policy:</strong> Mandatory recycling/composting</li>
                        <li><strong>Infrastructure:</strong> Three-bin system</li>
                        <li><strong>Education:</strong> Public awareness campaigns</li>
                        <li><strong>Results:</strong> Reduced landfill use by 50%, created green jobs</li>
                    </ul>
                </div>
                
                <h3><i class="fas fa-play-circle"></i> Watch Video</h3>
                <iframe src="https://www.youtube.com/embed/6s0aU5Q0uZI" title="Sustainable Waste Management" allowfullscreen></iframe>
            </div>
            
            <div class="quiz">
                <h3><i class="fas fa-question-circle"></i> Knowledge Check</h3>
                <fieldset>
                    <legend>1. What's the most preferred waste management option?</legend>
                    <label><input type="radio" name="q3a" value="a"> a) Recycling</label>
                    <label><input type="radio" name="q3a" value="b"> b) Prevention</label>
                </fieldset>
                
                <fieldset>
                    <legend>2. Which waste type poses toxic exposure risks?</legend>
                    <label><input type="radio" name="q3b" value="a"> a) Organic</label>
                    <label><input type="radio" name="q3b" value="b"> b) Hazardous</label>
                </fieldset>
                
                <button onclick="checkQuiz(3, ['b', 'b'])">
                    <i class="fas fa-paper-plane"></i> Submit Answers
                </button>
                <div id="result3" class="quiz-result"></div>
                <div id="explanation3" class="quiz-explanation"></div>
            </div>
            
            <div class="scenario">
                <h3><i class="fas fa-tasks"></i> Practical Scenario</h3>
                <p>A city has high rates of open dumping. Propose a waste management plan using the hierarchy.</p>
                <textarea placeholder="Describe your waste management plan..."></textarea>
            </div>
            
            <div class="resources">
                <h3><i class="fas fa-book-open"></i> Further Reading</h3>
                <a href="https://www.worldbank.org/en/topic/urbandevelopment/brief/solid-waste-management" target="_blank">
                    <i class="fas fa-link"></i> World Bank Waste Management
                </a>
                <a href="https://www.unep.org/explore-topics/resource-efficiency/what-we-do/cities/solid-waste-management" target="_blank">
                    <i class="fas fa-link"></i> UNEP Waste Management
                </a>
                <a href="https://www.epa.gov/smm/sustainable-materials-management-non-hazardous-materials-and-waste-management-hierarchy" target="_blank">
                    <i class="fas fa-link"></i> EPA Waste Management Hierarchy
                </a>
            </div>
        </div>

        <!-- Page 4: Vector Control and Pest Management -->
        <div class="page" id="page4">
            <button class="bookmark-btn" aria-label="Bookmark this page" onclick="toggleBookmark(4)">
                <i class="far fa-bookmark"></i>
            </button>
            <h2>Vector Control and Pest Management <span class="badge badge-danger">Public Health</span></h2>
            <div class="objectives">
                <h3><i class="fas fa-bullseye"></i> Learning Objectives</h3>
                <ul>
                    <li>Identify disease vectors and their habitats</li>
                    <li>Understand integrated pest management</li>
                    <li>Apply vector control strategies</li>
                </ul>
            </div>
            <p>Effective vector control prevents disease transmission while minimizing environmental and health impacts of control methods.</p>
            <button class="toggle-btn" onclick="toggleContent('content4')">
                Explore Detailed Content <i class="fas fa-chevron-down"></i>
            </button>
            <div id="content4" class="content">
                <img src="https://images.unsplash.com/photo-1579613832125-5d34a13ffe2a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80" alt="Mosquito control">
                <h3><i class="fas fa-search-plus"></i> Detailed Exploration</h3>
                
                <h4>Major Disease Vectors:</h4>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Vector</th>
                            <th>Diseases</th>
                            <th>Control Methods</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Mosquitoes</td>
                            <td>Malaria, Dengue, Zika</td>
                            <td>Larviciding, bed nets, habitat reduction</td>
                        </tr>
                        <tr>
                            <td>Rodents</td>
                            <td>Leptospirosis, Hantavirus</td>
                            <td>Sanitation, rodent-proofing, traps</td>
                        </tr>
                        <tr>
                            <td>Ticks</td>
                            <td>Lyme disease, RMSF</td>
                            <td>Personal protection, landscape management</td>
                        </tr>
                    </tbody>
                </table>
                
                <h4>Integrated Pest Management (IPM):</h4>
                <ol>
                    <li><strong>Monitor:</strong> Identify pests and population levels</li>
                    <li><strong>Prevent:</strong> Eliminate food, water, shelter</li>
                    <li><strong>Control:</strong> Use least-toxic methods first</li>
                    <li><strong>Evaluate:</strong> Assess effectiveness</li>
                </ol>
                
                <div class="case-study">
                    <h4><i class="fas fa-clipboard-list"></i> Singapore's Dengue Control</h4>
                    <p>Singapore reduced dengue through comprehensive vector control:</p>
                    <ul>
                        <li><strong>Environmental:</strong> Eliminate breeding sites</li>
                        <li><strong>Biological:</strong> Wolbachia-infected mosquitoes</li>
                        <li><strong>Chemical:</strong> Targeted insecticide use</li>
                        <li><strong>Community:</strong> Neighborhood cleanups</li>
                        <li><strong>Results:</strong> 90% reduction in dengue cases</li>
                    </ul>
                </div>
                
                <h3><i class="fas fa-play-circle"></i> Watch Video</h3>
                <iframe src="https://www.youtube.com/embed/9QyH6vOQ3l0" title="Integrated Pest Management" allowfullscreen></iframe>
            </div>
            
            <div class="quiz">
                <h3><i class="fas fa-question-circle"></i> Knowledge Check</h3>
                <fieldset>
                    <legend>1. Which is NOT a mosquito-borne disease?</legend>
                    <label><input type="radio" name="q4a" value="a"> a) Malaria</label>
                    <label><input type="radio" name="q4a" value="b"> b) Lyme disease</label>
                </fieldset>
                
                <fieldset>
                    <legend>2. What's the first step in IPM?</legend>
                    <label><input type="radio" name="q4b" value="a"> a) Chemical control</label>
                    <label><input type="radio" name="q4b" value="b"> b) Monitoring</label>
                </fieldset>
                
                <button onclick="checkQuiz(4, ['b', 'b'])">
                    <i class="fas fa-paper-plane"></i> Submit Answers
                </button>
                <div id="result4" class="quiz-result"></div>
                <div id="explanation4" class="quiz-explanation"></div>
            </div>
            
            <div class="scenario">
                <h3><i class="fas fa-tasks"></i> Practical Scenario</h3>
                <p>A neighborhood reports increased mosquito activity. Develop an IPM plan with at least four components.</p>
                <textarea placeholder="Outline your IPM strategy..."></textarea>
            </div>
            
            <div class="resources">
                <h3><i class="fas fa-book-open"></i> Further Reading</h3>
                <a href="https://www.who.int/publications/i/item/9789241513944" target="_blank">
                    <i class="fas fa-file-pdf"></i> WHO Vector Control Guidelines (PDF)
                </a>
                <a href="https://www.epa.gov/ipm" target="_blank">
                    <i class="fas fa-link"></i> EPA Integrated Pest Management
                </a>
                <a href="https://www.cdc.gov/mosquitoes/index.html" target="_blank">
                    <i class="fas fa-link"></i> CDC Mosquito Control
                </a>
            </div>
        </div>

        <!-- Page 5: Environmental Health Policy and Advocacy -->
        <div class="page" id="page5">
            <button class="bookmark-btn" aria-label="Bookmark this page" onclick="toggleBookmark(5)">
                <i class="far fa-bookmark"></i>
            </button>
            <h2>Environmental Health Policy and Advocacy <span class="badge badge-success">Leadership</span></h2>
            <div class="objectives">
                <h3><i class="fas fa-bullseye"></i> Learning Objectives</h3>
                <ul>
                    <li>Understand key environmental health policies</li>
                    <li>Analyze policy impacts on public health</li>
                    <li>Develop advocacy strategies for environmental health</li>
                </ul>
            </div>
            <p>Effective policies and advocacy are essential for creating systemic change to protect environmental health.</p>
            <button class="toggle-btn" onclick="toggleContent('content5')">
                Explore Detailed Content <i class="fas fa-chevron-down"></i>
            </button>
            <div id="content5" class="content">
                <img src="https://images.unsplash.com/photo-1551818255-e6e10975bc17?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80" alt="Policy discussion">
                <h3><i class="fas fa-search-plus"></i> Detailed Exploration</h3>
                
                <h4>Key Environmental Health Policies:</h4>
                <ul>
                    <li><strong>Clean Air Act (1970):</strong> Reduced air pollution by 77% since inception</li>
                    <li><strong>Safe Drinking Water Act (1974):</strong> Protects public water systems</li>
                    <li><strong>REACH (EU 2007):</strong> Regulates chemical substances</li>
                    <li><strong>Paris Agreement (2015):</strong> Global climate change mitigation</li>
                </ul>
                
                <div class="case-study">
                    <h4><i class="fas fa-clipboard-list"></i> Lead Paint Elimination</h4>
                    <p>Policy interventions reduced lead exposure:</p>
                    <ul>
                        <li><strong>Problem:</strong> Lead paint caused childhood poisoning</li>
                        <li><strong>Policy:</strong> 1978 US ban on lead-based paint</li>
                        <li><strong>Results:</strong> 94% decline in childhood lead poisoning</li>
                        <li><strong>Economic Benefit:</strong> $50-200 billion annually in saved costs</li>
                    </ul>
                </div>
                
                <h4>Advocacy Strategies:</h4>
                <ol>
                    <li><strong>Research:</strong> Evidence-based policy recommendations</li>
                    <li><strong>Coalition Building:</strong> Partner with stakeholders</li>
                    <li><strong>Communication:</strong> Tailor messages to audiences</li>
                    <li><strong>Policy Engagement:</strong> Work with decision-makers</li>
                </ol>
                
                <h3><i class="fas fa-play-circle"></i> Watch Video</h3>
                <iframe src="https://www.youtube.com/embed/9QyH6vOQ3l0" title="Environmental Policy Making" allowfullscreen></iframe>
            </div>
            
            <div class="quiz">
                <h3><i class="fas fa-question-circle"></i> Knowledge Check</h3>
                <fieldset>
                    <legend>1. What percentage has air pollution reduced since 1970?</legend>
                    <label><input type="radio" name="q5a" value="a"> a) 50%</label>
                    <label><input type="radio" name="q5a" value="b"> b) 77%</label>
                </fieldset>
                
                <fieldset>
                    <legend>2. Which is NOT an advocacy strategy?</legend>
                    <label><input type="radio" name="q5b" value="a"> a) Research</label>
                    <label><input type="radio" name="q5b" value="b"> b) Ignoring stakeholders</label>
                </fieldset>
                
                <button onclick="checkQuiz(5, ['b', 'b'])">
                    <i class="fas fa-paper-plane"></i> Submit Answers
                </button>
                <div id="result5" class="quiz-result"></div>
                <div id="explanation5" class="quiz-explanation"></div>
            </div>
            
            <div class="scenario">
                <h3><i class="fas fa-tasks"></i> Practical Scenario</h3>
                <p>Your community has high asthma rates near a highway. Develop a policy advocacy plan with three components.</p>
                <textarea placeholder="Describe your advocacy approach..."></textarea>
            </div>
            
            <div class="resources">
                <h3><i class="fas fa-book-open"></i> Further Reading</h3>
                <a href="https://www.epa.gov/laws-regulations" target="_blank">
                    <i class="fas fa-link"></i> EPA Laws and Regulations
                </a>
                <a href="https://www.who.int/publications/i/item/9789241507141" target="_blank">
                    <i class="fas fa-file-pdf"></i> WHO Health in All Policies (PDF)
                </a>
                <a href="https://www.apha.org/policies-and-advocacy" target="_blank">
                    <i class="fas fa-link"></i> APHA Policy and Advocacy
                </a>
            </div>
            
            <div class="closing">
                <h3><i class="fas fa-flag-checkered"></i> Closing Remark</h3>
                <p>Environmental health professionals play a crucial role in shaping policies that create healthier environments for all communities.</p>
            </div>
        </div>

        <!-- Pagination -->
        <div class="pagination">
            <button onclick="prevPage()" id="prevBtn" disabled>
                <i class="fas fa-arrow-left"></i> Previous
            </button>
            <span id="pageInfo">Page 1 of 5</span>
            <button onclick="nextPage()" id="nextBtn">
                Next <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>

    <!-- Floating navigation -->
    <div class="floating-nav">
        <button aria-label="Scroll to top" onclick="scrollToTop()">
            <i class="fas fa-arrow-up"></i>
        </button>
        <button aria-label="Toggle dark mode" onclick="toggleDarkMode()">
            <i class="fas fa-moon"></i>
        </button>
    </div>

    <script>
        let currentPage = 1;
        const totalPages = 5;
        let bookmarks = JSON.parse(localStorage.getItem('bookmarks')) || [];
        let darkMode = localStorage.getItem('darkMode') === 'true';

        // Initialize dark mode if previously set
        if (darkMode) {
            document.body.classList.add('dark-mode');
            document.querySelector('.dark-mode-toggle i').classList.replace('fa-moon', 'fa-sun');
        }

        function showPage(pageNum) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(`page${pageNum}`).classList.add('active');
            currentPage = pageNum;
            updatePagination();
            updateProgress();
            updateBookmarkIcons();
        }

        function nextPage() {
            if (currentPage < totalPages) {
                showPage(currentPage + 1);
                scrollToTop();
            }
        }

        function prevPage() {
            if (currentPage > 1) {
                showPage(currentPage - 1);
                scrollToTop();
            }
        }

        function updatePagination() {
            document.getElementById('pageInfo').textContent = `Page ${currentPage} of ${totalPages}`;
            document.getElementById('prevBtn').disabled = currentPage === 1;
            document.getElementById('nextBtn').disabled = currentPage === totalPages;
        }

        function updateProgress() {
            const progress = ((currentPage - 1) / (totalPages - 1)) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
            document.getElementById('progressPercentage').textContent = `${Math.round(progress)}%`;
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        function toggleContent(contentId) {
            const content = document.getElementById(contentId);
            const btn = content.previousElementSibling;
            
            if (content.style.display === 'block') {
                content.style.display = 'none';
                btn.classList.remove('active');
            } else {
                content.style.display = 'block';
                btn.classList.add('active');
            }
        }

        function checkQuiz(quizNum, correctAnswers) {
            const answers = [
                document.querySelector(`input[name="q${quizNum}a"]:checked`),
                document.querySelector(`input[name="q${quizNum}b"]:checked`)
            ];
            const resultDiv = document.getElementById(`result${quizNum}`);
            const explanationDiv = document.getElementById(`explanation${quizNum}`);
            
            if (!answers[0] || !answers[1]) {
                resultDiv.textContent = "Please answer both questions.";
                resultDiv.className = "quiz-result incorrect";
                explanationDiv.textContent = "";
                return;
            }

            let score = 0;
            answers.forEach((answer, i) => {
                if (answer.value === correctAnswers[i]) score++;
            });

            if (score === 2) {
                resultDiv.textContent = "âœ“ Perfect! All answers correct!";
                resultDiv.className = "quiz-result correct";
            } else if (score === 1) {
                resultDiv.textContent = "âœ“ Partially correct. One right answer.";
                resultDiv.className = "quiz-result incorrect";
            } else {
                resultDiv.textContent = "âœ— Review needed. Try again.";
                resultDiv.className = "quiz-result incorrect";
            }

            explanationDiv.textContent = getExplanation(quizNum, answers.map(a => a.value));
            explanationDiv.style.display = 'block';
        }

        function getExplanation(quizNum, selected) {
            const explanations = {
                1: {
                    a: "1. WHO estimates 24% of global deaths are linked to environmental factors.",
                    b: "2. Genetic disorders are not considered an environmental health factor."
                },
                2: {
                    a: "1. WASH can reduce diarrheal diseases by up to 45%.",
                    b: "2. Air conditioning is not part of WASH (Water, Sanitation, Hygiene)."
                },
                3: {
                    a: "1. Prevention is the most preferred option in the waste hierarchy.",
                    b: "2. Hazardous waste poses toxic exposure risks."
                },
                4: {
                    a: "1. Lyme disease is tick-borne, not mosquito-borne.",
                    b: "2. Monitoring is the first step in IPM."
                },
                5: {
                    a: "1. The Clean Air Act reduced air pollution by 77% since 1970.",
                    b: "2. Ignoring stakeholders is counterproductive to advocacy."
                }
            };

            let output = [];
            for (let i = 0; i < 2; i++) {
                const qKey = quizNum + (i === 0 ? 'a' : 'b');
                output.push(`Q${i+1}: ${explanations[quizNum][selected[i]]}`);
            }
            
            return output.join('\n\n');
        }

        function toggleBookmark(pageNum) {
            const index = bookmarks.indexOf(pageNum);
            const btn = document.querySelector(`#page${pageNum} .bookmark-btn i`);
            
            if (index === -1) {
                bookmarks.push(pageNum);
                btn.classList.replace('far', 'fas');
                btn.parentElement.classList.add('active');
            } else {
                bookmarks.splice(index, 1);
                btn.classList.replace('fas', 'far');
                btn.parentElement.classList.remove('active');
            }
            
            localStorage.setItem('bookmarks', JSON.stringify(bookmarks));
        }

        function updateBookmarkIcons() {
            document.querySelectorAll('.bookmark-btn i').forEach(icon => {
                icon.classList.replace('fas', 'far');
                icon.parentElement.classList.remove('active');
            });
            
            bookmarks.forEach(pageNum => {
                const btn = document.querySelector(`#page${pageNum} .bookmark-btn i`);
                if (btn) {
                    btn.classList.replace('far', 'fas');
                    btn.parentElement.classList.add('active');
                }
            });
        }

        function toggleDarkMode() {
            darkMode = !darkMode;
            document.body.classList.toggle('dark-mode', darkMode);
            
            const icon = document.querySelector('.dark-mode-toggle i');
            if (darkMode) {
                icon.classList.replace('fa-moon', 'fa-sun');
            } else {
                icon.classList.replace('fa-sun', 'fa-moon');
            }
            
            localStorage.setItem('darkMode', darkMode);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            showPage(1);
            updateBookmarkIcons();
            
            // Set up all toggle buttons
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const icon = this.querySelector('i');
                    icon.classList.toggle('fa-chevron-down');
                    icon.classList.toggle('fa-chevron-up');
                });
            });
            
            // Set up checklist items to save state
            document.querySelectorAll('.checklist input[type="checkbox"]').forEach(box => {
                box.addEventListener('change', function() {
                    const state = JSON.parse(localStorage.getItem('checklistState') || '{}');
                    state[this.id] = this.checked;
                    localStorage.setItem('checklistState', JSON.stringify(state));
                });
                
                // Restore checklist state
                const state = JSON.parse(localStorage.getItem('checklistState') || '{}');
                if (state[box.id]) {
                    box.checked = true;
                }
            });
        });
    </script>
</body>
</html>
